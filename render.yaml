# ==============================
# FullTask AI Tutor - Render Config
# Created for deployment of both backend (Node.js + Express)
# and frontend (Vite + React) on Render
# ==============================

services:
  # ------------------------------
  # ðŸ§  BACKEND SERVICE
  # ------------------------------
  - type: web
    name: ai-tutor-backend
    env: node
    rootDir: backend
    buildCommand: npm install
    startCommand: node server.js
    envVars:
      - key: NODE_VERSION
        value: 22.11.0
      - key: OPENAI_API_KEY
        sync: false           # Youâ€™ll add this manually in Render dashboard
      - key: FIREBASE_API_KEY
        value: "AIzaSyC7cAN-mrE2PvmlQ11zLKAdHBhN7nUFjHw"
      - key: FIREBASE_AUTH_DOMAIN
        value: "fir-u-c-students-web.firebaseapp.com"
      - key: FIREBASE_DATABASE_URL
        value: "https://fir-u-c-students-web-default-rtdb.firebaseio.com"
      - key: FIREBASE_PROJECT_ID
        value: "fir-u-c-students-web"
      - key: FIREBASE_STORAGE_BUCKET
        value: "fir-u-c-students-web.firebasestorage.app"
      - key: FIREBASE_MESSAGING_SENDER_ID
        value: "113569186739"
      - key: FIREBASE_APP_ID
        value: "1:113569186739:web:d8daf21059f43a79e841c6"

  # ------------------------------
  # ðŸ’» FRONTEND SERVICE
  # ------------------------------
  - type: static
    name: fulltask-ai-frontend
    rootDir: frontend
    buildCommand: npm install && npm run build
    publishPath: dist
    envVars:
      - key: VITE_API_BASE
        value: https://ai-tutor-e5m3.onrender.com     # your live backend URL
      - key: NODE_VERSION
        value: 22.11.0

# ==============================
# ðŸ“˜ Optional Notes
# ------------------------------
# â€¢ Render automatically detects frontend + backend via this file.
# â€¢ Set your OpenAI_API_KEY manually in Render dashboard.
# â€¢ Frontend builds to /dist folder (Render serves static files there).
# â€¢ Backend runs on Node (Express).
# ==============================
